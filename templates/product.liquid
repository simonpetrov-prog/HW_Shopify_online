<section class="container product-page">
  <div class="product-grid">
    <div>
      {% if product.featured_image %}
        <img src="{{ product.featured_image | img_url: '800x800' }}" alt="{{ product.title }}">
      {% endif %}
      {% if product.images.size > 1 %}
        <div class="thumbs">
          {% for image in product.images %}
            <img src="{{ image | img_url: '200x200' }}" alt="{{ product.title }} Bild {{ forloop.index }}">
          {% endfor %}
        </div>
      {% endif %}
    </div>

    <div>
      <h1>{{ product.title }}</h1>
      <p class="price">
        {% if product.compare_at_price > product.price %}
          <span class="compare">{{ product.compare_at_price | money }}</span>
        {% endif %}
        <span class="now">{{ product.price | money }}</span>
      </p>

      <form data-ajax-add>
        {% if product.variants.size > 1 %}
          <select name="id">
            {% for variant in product.variants %}
              <option value="{{ variant.id }}" {% if variant == product.selected_or_first_available_variant %}selected{% endif %}>
                {{ variant.title }} â€“ {{ variant.price | money }}
              </option>
            {% endfor %}
          </select>
        {% else %}
          <input type="hidden" name="id" value="{{ product.variants.first.id }}">
        {% endif %}

        <label>Menge</label>
        <input type="number" name="quantity" value="1" min="1" style="width:80px">

        <button type="submit" class="btn">In den Warenkorb</button>
      </form>

      {% if product.description != blank %}
        <div class="desc">{{ product.description }}</div>
      {% endif %}
    </div>
  </div>
</section>

<style>
.product-grid { display:grid; grid-template-columns: 1fr 1fr; gap:32px; align-items:start; }
.price { margin:10px 0 20px; }
.price .compare { text-decoration: line-through; color:#999; margin-right:10px; }
.desc { margin-top:20px; line-height:1.6; }
.thumbs { display:flex; gap:10px; margin-top: 10px; }
@media (max-width: 900px){ .product-grid{ grid-template-columns: 1fr; } }
</style>
