{%- assign is_sale = false -%}
{%- if product.compare_at_price > product.price -%}
  {%- assign is_sale = true -%}
{%- endif -%}

{%- assign is_new = false -%}
{%- comment %} Neu-Logik: Tag "Neu" oder in den letzten 21 Tagen erstellt {%- endcomment -%}
{%- if product.tags contains 'Neu' -%}
  {%- assign is_new = true -%}
{%- elsif product.created_at and product.created_at > 21 | days_ago -%}
  {%- assign is_new = true -%}
{%- endif -%}

{%- assign is_limited = product.tags contains 'Limited' or product.tags contains 'Limitiert' -%}

<div class="badges">
  {%- if is_new -%}<span class="badge badge--new">Neu</span>{%- endif -%}
  {%- if is_sale -%}<span class="badge badge--sale">Sale</span>{%- endif -%}
  {%- if is_limited -%}<span class="badge badge--limited">Limited</span>{%- endif -%}
</div>

<style>
.badges { position:absolute; top:8px; left:8px; display:flex; gap:6px; z-index:2; }
.badge { padding:4px 8px; border-radius:999px; font-size:12px; color:#fff; font-weight:600; }
.badge--new { background: var(--primary); }
.badge--sale { background: var(--accent); }
.badge--limited { background:#111; }
.product-card { position:relative; }
</style>
