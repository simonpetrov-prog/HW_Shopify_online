<header class="hw-header">
  <div class="hw-header__inner">
    <!-- Logo links -->
    <a href="/" class="hw-logo" aria-label="Startseite">
      {% if section.settings.logo != blank %}
        <img
          src="{{ section.settings.logo | image_url: width: 220 }}"
          alt="{{ shop.name }}"
          loading="lazy"
        >
      {% else %}
        <span class="hw-logo__text">HW Central Seller</span>
      {% endif %}
    </a>

    <!-- Suche mittig -->
    <form class="hw-search" action="/search" method="get" role="search" aria-label="Shop-Suche">
      <input
        class="hw-search__input"
        type="search"
        name="q"
        placeholder="Suche nach Modellen, Marken…"
        autocomplete="off"
      >
      <button class="hw-search__btn" type="submit">Suchen</button>
    </form>

    <!-- Burger rechts -->
    <button
      class="hw-burger"
      type="button"
      aria-label="Menü öffnen"
      aria-expanded="false"
      aria-controls="hw-nav"
    >
      <span></span>
      <span></span>
      <span></span>
    </button>
  </div>

  <!-- Ausklapp-Menü (Startseite / Produkte / Warenkorb) -->
  <nav id="hw-nav" class="hw-nav" hidden>
    <a href="/" class="hw-nav__link">Startseite</a>
    <a href="/collections/all" class="hw-nav__link">Produkte</a>
    <a href="/cart" class="hw-nav__link">Warenkorb</a>
  </nav>
</header>

<style>
.hw-header{
  position:sticky;
  top:0;
  z-index:40;
  background:#ffffff;
  border-bottom:1px solid #e5e5e5;
}

/* Zeile: Logo | Suche | Burger */
.hw-header__inner{
  max-width:1200px;
  margin:0 auto;
  padding:8px 14px;
  display:flex;
  align-items:center;
  gap:10px;
}

/* Logo links, nicht zu groß */
.hw-logo{
  flex:0 0 auto;
  display:flex;
  align-items:center;
}
.hw-logo img{
  height:34px;
  width:auto;
  display:block;
}
.hw-logo__text{
  font-weight:900;
  font-size:18px;
}

/* Suche nimmt die Mitte ein */
.hw-search{
  flex:1 1 auto;
  display:flex;
  align-items:center;
  gap:6px;
  max-width:600px;
}
.hw-search__input{
  flex:1;
  border:1px solid #ddd;
  border-radius:999px;
  padding:8px 12px;
  font-size:14px;
  outline:none;
  background:#f7f7f7;
}
.hw-search__input:focus{
  border-color:var(--primary, #0046BE);
  background:#fff;
}
.hw-search__btn{
  border-radius:999px;
  border:none;
  padding:7px 14px;
  font-size:14px;
  font-weight:800;
  background:var(--primary, #0046BE);
  color:#fff;
  cursor:pointer;
}
.hw-search__btn:hover{
  filter:brightness(.95);
}

/* Burger rechts */
.hw-burger{
  flex:0 0 auto;
  width:36px;
  height:30px;
  border-radius:8px;
  border:1px solid #ddd;
  background:#fff;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:4px;
  cursor:pointer;
  padding:0;
}
.hw-burger span{
  width:18px;
  height:2px;
  border-radius:999px;
  background:#111;
  transition:transform .15s ease, opacity .15s ease;
}
.hw-burger.is-open span:nth-child(1){
  transform:translateY(6px) rotate(45deg);
}
.hw-burger.is-open span:nth-child(2){
  opacity:0;
}
.hw-burger.is-open span:nth-child(3){
  transform:translateY(-6px) rotate(-45deg);
}

/* Ausklapp-Menü unter dem Header */
.hw-nav{
  border-top:1px solid #eee;
  border-bottom:1px solid #eee;
  background:#fff;
}
.hw-nav__link{
  display:block;
  padding:10px 18px;
  font-weight:700;
  text-decoration:none;
  color:#111;
}
.hw-nav__link + .hw-nav__link{
  border-top:1px solid #f1f1f1;
}
.hw-nav__link:hover{
  background:#f5f5f5;
  color:var(--primary, #0046BE);
}

/* Desktop-Feintuning */
@media (min-width: 900px){
  .hw-header__inner{
    padding:10px 20px;
    gap:16px;
  }
  .hw-logo img{ height:38px; }
  .hw-search__input{ padding:9px 14px; font-size:15px; }
}

/* Tablet/Handy: alles bleibt in EINER Zeile */
@media (max-width: 768px){
  .hw-header__inner{
    padding:8px 10px;
    gap:8px;
  }
  .hw-logo img{
    height:30px;
  }
  .hw-search__btn{
    padding:6px 10px;
    font-size:13px;
  }
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function(){
  const burger = document.querySelector('.hw-burger');
  const nav    = document.getElementById('hw-nav');
  if(!burger || !nav) return;

  burger.addEventListener('click', function(){
    const open = !nav.classList.contains('is-open');
    nav.classList.toggle('is-open', open);
    burger.classList.toggle('is-open', open);
    nav.hidden = !open;
    burger.setAttribute('aria-expanded', open ? 'true' : 'false');
  });
});
</script>

{% schema %}
{
  "name": "Header",
  "settings": [
    {
      "type": "image_picker",
      "id": "logo",
      "label": "Logo"
    }
  ]
}
{% endschema %}
