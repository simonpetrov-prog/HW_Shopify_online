<section class="product-page container">
  <div class="product-wrapper">
    <div class="product-media">
      {% if product.featured_image %}
        <img src="{{ product.featured_image | img_url: '800x800' }}" alt="{{ product.title }}" class="product-image">
      {% endif %}
    </div>

    <div class="product-info">
      <h1 class="product-title">{{ product.title }}</h1>

      {% render 'product-badges' %}

      <p class="product-price">
        {% if product.compare_at_price > product.price %}
          <span class="price-old">{{ product.compare_at_price | money }}</span>
        {% endif %}
        <span class="price-current">{{ product.price | money }}</span>
      </p>

      {% if product.available %}
        {% assign stock = product.variants.first.inventory_quantity %}
        {% if stock <= 3 %}
          <p class="product-stock low">‚ö†Ô∏è Nur {{ stock }} St√ºck verf√ºgbar!</p>
        {% elsif stock <= 10 %}
          <p class="product-stock medium">üî∏ Noch {{ stock }} auf Lager</p>
        {% else %}
          <p class="product-stock high">‚úÖ Auf Lager</p>
        {% endif %}
      {% else %}
        <p class="product-stock out">‚ùå Ausverkauft</p>
      {% endif %}

      <form action="/cart/add" method="post" enctype="multipart/form-data">
        <input type="hidden" name="id" value="{{ product.variants.first.id }}">
        <button type="submit" class="btn-add">In den Warenkorb</button>
        <button type="button" onclick="window.location='/checkout';" class="btn-buy">Sofort kaufen</button>
      </form>
    </div>
  </div>
</section>

<style>
.product-page { display:flex; justify-content:center; padding:40px 20px; }
.product-wrapper { display:flex; flex-wrap:wrap; gap:40px; max-width:900px; width:100%; }
.product-media img { width:100%; border-radius:10px; box-shadow:0 0 10px rgba(0,0,0,0.1); }
.product-info { flex:1; }
.product-title { font-size:26px; font-weight:700; margin-bottom:10px; }
.product-price { font-size:20px; margin-bottom:12px; }
.price-old { text-decoration:line-through; color:#888; margin-right:6px; }
.product-stock { margin:8px 0 18px; font-weight:600; }
.product-stock.low { color:#e60000; }
.product-stock.medium { color:#ff9900; }
.product-stock.high { color:#009900; }
.product-stock.out { color:#555; }
form { display:flex; gap:12px; flex-wrap:wrap; }
.btn-add, .btn-buy {
  padding:10px 20px;
  border:none;
  cursor:pointer;
  border-radius:6px;
  font-weight:600;
  font-size:15px;
}
.btn-add { background:#0056d2; color:#fff; }
.btn-buy { background:#ff9900; color:#fff; }
.btn-add:hover { background:#003c9e; }
.btn-buy:hover { background:#e67e00; }
</style>
